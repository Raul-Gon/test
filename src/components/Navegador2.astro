<nav class="relative mt-3 border border-t-black lg:border-0">
    
    <div class="max-w-[1200px] mx-8 xl:mx-auto flex-row">

            <div class=" w-full relative">

                <!-- Boton Hamburguesa -->
                <div class="absolute inset-y-0 left-0 flex items-center border-r border-r-black lg:hidden">
                    <button type="button" id="hamburger-button" class="relative inline-flex items-center justify-center p-2 hover:cursor-pointer">
                        <span class="absolute -inset-0.5"></span>
                        <svg class="text-gray-500" viewBox="0 0 24 24" width="2em" height="2em" fill="currentColor" focusable="false" aria-hidden="true">
                            <path d="M.75 2.25h22.5a.75.75 0 0 0 0-1.5H.75a.75.75 0 0 0 0 1.5m22.5 19.5H.75a.75.75 0 0 0 0 1.5h22.5a.75.75 0 0 0 0-1.5m-22.5-9h12a.75.75 0 0 0 0-1.5h-12a.75.75 0 0 0 0 1.5"></path>
                        </svg>
                    </button>
                </div>

                <!-- Menu dentro de la Hamburguesa -->
                <div id="mobile-menu" hidden> 
                    <div class="absolute z-10">
                        <div class="flex flex-col h-screen overflow-y-auto -ml-8 -mt-12 bg-white">
                          <div class="flex items-center justify-between">
                            <p class="font-bold ml-3"> Explorar por categoría</p>
                            <button id="hidden-button" class="hover:bg-gray-400 p-0.5">
                              <svg viewBox="0 0 24 24" width="2em" height="2em" fill="currentColor" focusable="false" aria-hidden="true">
                                <path d="m13.057 11.996 7.723-7.723a.75.75 0 1 0-1.06-1.06l-7.724 7.723-7.723-7.724a.75.75 0 1 0-1.06 1.061l7.723 7.723-7.716 7.717a.75.75 0 1 0 1.06 1.06l7.716-7.716 7.717 7.716a.747.747 0 0 0 1.06 0 .75.75 0 0 0 0-1.06z"></path>
                              </svg>
                            </button>
                          </div>
                          <div class="grid grid-cols-3 border-y-2 border-gray-600">
                            <div class="flex justify-center  py-3 hover:bg-gray-400">
                              <a href="/">Mujer</a>
                            </div class="flex justify-center">
                            <div class="flex justify-center  py-3 hover:bg-gray-400">
                              <a href="/">Hombre</a>
                            </div>
                            <div class="flex justify-center  py-3 hover:bg-gray-400">
                              <a href="/">Niños</a>
                            </div>
                          </div>
                          <div class="grid grid-cols-2 mt-8 gap-3">
                            <div class="flex flex-col gap-3 ">
                              <a href="/">
                                <img class="h-[88px]" src="https://img01.ztat.net/nvg/categories/es-ES/men/fe442661-be40-4a83-917e-2192504cb83c/mobile/783a312e-510a-4e7e-bc62-00a5f2a71142.jpg" alt="imagen de novedades">
                                <p class="p-3 text-gray-600">Novedades</p>
                              </a>
                            </div>
                            <div class="flex flex-col gap-3 ">
                              <a href="/">
                                <img class="h-[88px]" src="https://img01.ztat.net/nvg/categories/es-ES/men/615f994a-73ec-4121-8f41-2a56fb24ddf4/mobile/c89def85-8409-42b4-a9e1-6e5ef465b25d.jpg" alt="imagen de novedades">
                                <p class="p-3 text-gray-600">Ropa</p>
                              </a>
                            </div>
                            <div class="flex flex-col gap-3 ">
                              <a href="/">
                                <img class="h-[88px]" src="https://img01.ztat.net/nvg/categories/es-ES/men/8d4a73d9-7129-44cc-a86c-7ad588c56b12/mobile/47816e0e-1f4b-4dc4-96ec-add67617ace9.jpg" alt="imagen de novedades">
                                <p class="p-3 text-gray-600">Calzado</p>
                              </a>
                            </div>
                            <div class="flex flex-col gap-3 ">
                              <a href="/">
                                <img class="h-[88px]" src="https://img01.ztat.net/nvg/categories/es-ES/men/130587fa-3a0e-489b-a743-9b7abea5d674/mobile/31ee44ee-e674-42fc-9100-1e96c3e98de5.jpg" alt="imagen de novedades">
                                <p class="p-3 text-gray-600">Complementos</p>
                              </a>
                            </div>
                            <div class="flex flex-col gap-3 ">
                              <a href="/">
                                <img class="h-[88px]" src="https://img01.ztat.net/nvg/categories/es-ES/men/a5b4552d-618c-48a1-914c-c50b4878abe1/mobile/e7ce815a-efa0-409e-82c9-d67c480ade39.jpg" alt="imagen de novedades">
                                <p class="p-3 text-gray-600">Deporte</p>
                              </a>
                            </div>
                            <div class="flex flex-col gap-3 ">
                              <a href="/">
                                <img class="h-[88px]" src="https://img01.ztat.net/nvg/categories/es-ES/men/b4fab7a2-37b8-4cb5-8c49-91212064ff8d/mobile/8fd00467-e421-435e-b524-5cc1be92e197.jpg" alt="imagen de novedades">
                                <p class="p-3 text-gray-600">Beauty</p>
                              </a>
                            </div>
                            <div class="flex flex-col gap-3 ">
                              <a href="/">
                                <img class="h-[88px]" src="https://img01.ztat.net/nvg/categories/es-ES/men/9241f4c6-c543-4dac-92d4-936d0b44f1b0/mobile/62ef3adb-d450-4769-a573-c67a2ffe3cc2.jpg" alt="imagen de novedades">
                                <p class="p-3 text-gray-600">Streetwear</p>
                              </a>
                            </div>
                            <div class="flex flex-col gap-3 ">
                              <a href="/">
                                <img class="h-[88px]" src="https://img01.ztat.net/nvg/categories/es-ES/men/f41bc3c9-f4b3-4e67-a694-5f7fd3260205/mobile/e3de15ce-a44d-4685-bc8a-0f24a08fe957.jpg" alt="imagen de novedades">
                                <p class="p-3 text-gray-600">Designer</p>
                              </a>
                            </div>
                            <div class="flex flex-col gap-3 ">
                              <a href="/">
                                <img class="h-[88px]" src="https://img01.ztat.net/nvg/categories/es-ES/men/b7259a1d-f2e2-44e5-b3c4-c133c2efb50c/mobile/e4b7a616-fe77-474e-ad8e-5f97aa14b09d.jpg" alt="imagen de novedades">
                                <p class="p-3 text-gray-600">Marcas</p>
                              </a>
                            </div>
                            <div class="flex flex-col gap-3 ">
                              <a href="/">
                                <img class="h-[88px]" src="https://img01.ztat.net/nvg/categories/es-ES/men/7e47da9e-9e49-424d-bc9a-6baedfe58797/mobile/702bad87-72ea-45e0-a8f1-47812eaaec37.jpg" alt="imagen de novedades">
                                <p class="p-3 text-red-600">Outlet</p>
                              </a>
                            </div>
                            <div class="flex flex-col gap-3 ">
                              <a href="/">
                                <img class="h-[88px]" src="https://img01.ztat.net/nvg/categories/es-ES/men/e0020c79-0328-4954-99e8-04a8e18672b6/mobile/c03a5e80-314b-4f2b-a51e-eafe0b800718.jpg" alt="imagen de novedades">
                                <p class="p-3 text-gray-600">Segunda Mano</p>
                              </a>
                            </div>
                          </div>
                          <div class="bg-red-400 w-full h-4"></div>

                        </div>
                    </div>
                </div>

                <!-- Menu normal -->
                <div class="flex justify-between">
                    <div class="hidden lg:w-4/5 lg:flex">
                        <div class="gap-3 flex items-center overflow-hidden">
                            <a href="/" class="hover:underline">Novedades</a>
                            <a href="/" class="hover:underline">Ropa</a>
                            <a href="../categoria/" id="calzado-trigger" class="hover:underline">Calzado</a>
                            <a href="/" class="hover:underline">Complementos</a>
                            <a href="/" class="hover:underline">Deporte</a>
                            <a href="/" class="hover:underline">Beauty</a>
                            <a href="/" class="hover:underline">Streetwear</a>
                            <a href="/" class="hover:underline">Designer</a>
                            <a href="/" class="hover:underline">Marcas</a>
                            <a href="/" class="hover:underline text-red-600">Outlet</a>
                            <a href="/" class="hover:underline">Segunda mano</a>
                        </div>
                    </div>

                    <!-- Recuadro de Busqueda -->
                    <div class="relative w-full ml-20 lg:ml-0 lg:w-1/5 justify-end border-0 lg:border border-black">
                        <div class="w-full lg:max-w-sm">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <!-- SVG Icono -->
                                <svg width="32" height="32" viewBox="0 0 256 256">
                                    <path fill="currentColor" d="M232.49 215.51L185 168a92.12 92.12 0 1 0-17 17l47.53 47.54a12 12 0 0 0 17-17ZM44 112a68 68 0 1 1 68 68a68.07 68.07 0 0 1-68-68"/>
                                </svg>
                            </div>
                            <input type="text" placeholder="Buscar aquí" class="pl-12 w-full p-2.5" />
                        </div>
                    </div> 

                </div>
            </div>  
    </div>
</nav>

<!-- Mega-menu Desplegable -->
<section id="mega-menu-calzado" class="hidden relative z-10 opacity-0 -translate-y-4 transition-all duration-300 ease-out pointer-events-none flex-row flex-2">
    <div class="absolute z-10 w-full pt-5 bg-white border-0 border-b-2">
        <div class="flex max-w-[1200px] mx-8 xl:mx-auto">
          <div class="w-1/4 flex flex-col gap-3 mb-3">            
            <p class="text-lg text-gray-600">Categorías<p>
            <div class="flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" color="currentColor">
                  <path d="M14.617 4.767c1.01-1.601 1.516-2.401 2.178-2.643a2.06 2.06 0 0 1 1.41 0c.662.242 1.168 1.042 2.178 2.643c1.137 1.801 1.706 2.702 1.606 3.445c-.069.51-.326.976-.72 1.306C20.695 10 19.63 10 17.5 10s-3.195 0-3.77-.482a2.06 2.06 0 0 1-.719-1.306c-.1-.743.469-1.644 1.606-3.445M2 6c0-1.667 0-2.5.424-3.084q.207-.285.492-.492C3.5 2 4.333 2 6 2s2.5 0 3.084.424q.285.207.492.492C10 3.5 10 4.333 10 6s0 2.5-.424 3.084a2.2 2.2 0 0 1-.492.492C8.5 10 7.667 10 6 10s-2.5 0-3.084-.424a2.2 2.2 0 0 1-.492-.492C2 8.5 2 7.667 2 6"/>
                  <circle cx="17.5" cy="18" r="4"/>
                  <path d="m9.5 14.5l-7 7m0-7l7 7"/>
              </g>
              </svg>
              <a class="ml-2 text-sm" href="/categoria/">Ver todo</a>
            </div>
            <div class="flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
                  <path d="M10.5 18.3V5.814c0-1.587-.456-2.893-2.383-2.81c-1.608.069-3.116.893-4.312 1.89c-2.142 1.784-2.08 3.866-1.336 6.308l2.384 7.839C5.206 20.2 6.335 21 7.62 21c1.59 0 2.879-1.209 2.879-2.7m3.001 0V5.814c0-1.587.456-2.893 2.383-2.81c1.608.069 3.116.893 4.313 1.89c2.141 1.784 2.078 3.866 1.335 6.308l-2.384 7.839C18.794 20.2 17.665 21 16.38 21c-1.59 0-2.879-1.209-2.879-2.7"/>
                  <path d="M3 13c0-1 .7-3.7 3.5-4.5m0 0c2.5.5 3.5 1.5 4 2m-4-2V7M21 13c0-1-.7-3.7-3.5-4.5m0 0c-2.5.5-3.5 1.5-4 2m4-2V7"/>
                </g>
              </svg>
              <a class="ml-2 text-sm" href="/categoria/">Sandalias</a>
            </div>
            <div class="flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                <g fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="1.5">
                  <path stroke-linecap="round" d="M19.101 18H7.963c-2.934 0-4.4 0-5.295-1.117c-1.697-2.12.237-7.76 1.408-9.883c.397 2.4 4.486 2.333 5.975 2c-.992-1.999.332-2.666.994-3h.002c2.953 3.5 9.268 5.404 10.815 9.219c.669 1.648-1.236 2.781-2.76 2.781"/>
                  <path d="M2 14c4.165 1.43 6.731 1.844 10.022.804c.997-.315 1.495-.473 1.806-.452c.31.022.945.317 2.213.909c1.583.738 3.756 1.163 5.959.097"/>
                  <path stroke-linecap="round" d="M13.5 9.5L15 8m.5 3L17 9.5"/>
                </g>
              </svg>
              <a class="ml-2 text-sm" href="/categoria/">Zapatillas</a>
            </div>
            <div class="flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 15 15">
                <path d="M9.5 7c-.414-.235-.89-.596-1.315-.948L6.01 3.222a.56.56 0 0 0-1 .278H5V5H3.209a.504.504 0 0 1-.357-.148S2.5 4 2 4h-.5a.5.5 0 0 0-.5.5V9h5.5c1.5 0 2 1 3.5 1h4v-.5C14 8 10.547 7.594 9.5 7z" fill="currentColor"/>
                <path d="M9.5 11c-.632 0-1.047-.207-1.526-.447C7.456 10.293 6.868 10 6 10H1v1.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V11c.632 0 1.046.207 1.526.447c.519.26 1.106.553 1.974.553h4a.5.5 0 0 0 .5-.5V11H9.5z" fill="currentColor"/>
              </svg>
              <a class="ml-2 text-sm" href="/categoria/">Mocasines</a>
            </div>
            <div class="flex items-center">
              
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32">
                <g fill="currentColor">
                  <path d="M2 18.7C2 17.21 3.21 16 4.7 16h8.64c.924 0 1.803.32 2.53.885l-1.588 1.587a.69.69 0 1 0 .976.976l1.64-1.64a1 1 0 0 0 .085-.103a13 13 0 0 0 1.716.91l-1.437 1.437a.69.69 0 1 0 .976.976l1.64-1.64a.7.7 0 0 0 .156-.24a26 26 0 0 0 4.956 1.202c2.9.55 5.01 3.09 5.01 6.05v2.81H14.22c0-1.56-1.26-2.82-2.82-2.82H2z"/>
                  <path d="M20.034 19.148a.69.69 0 0 0-1.132-.736l-.203.204c.442.197.89.374 1.335.532m-3.051-1.443A9 9 0 0 1 16 16.99l-.13-.105l.052-.053a.69.69 0 0 1 1.061.873M2 27.383h7.98v1.837H2z"/>
                </g>
              </svg>
              <a class="ml-2 text-sm" href="/categoria/">Zapatos de traje</a>
            </div>
            <div class="flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32">
                <path fill="currentColor" d="M24 17h-6a1 1 0 0 1-1-1V4a2.003 2.003 0 0 0-2-2H5a2.003 2.003 0 0 0-2 2v24a2.003 2.003 0 0 0 2 2h22a2.003 2.003 0 0 0 2-2v-6a5.006 5.006 0 0 0-5-5m3 5v2h-4v-5h1a3.003 3.003 0 0 1 3 3M15 4v2h-4v2h4v2h-4v2h4v2h-4v2h4a3.003 3.003 0 0 0 3 3h3v5h-6.838l-3-1H5V4Zm10 24v-1h-2v1h-2v-1h-2v1h-2v-1h-2v1h-2v-1h-2v1H5v-3h5.838l3 1H27v2Z"/>
              </svg>
              <a class="ml-2 text-sm" href="/categoria/">Botas y botines</a>
            </div>
          </div>

          <div class="w-2/4 flex flex-col justify-between gap-3 mb-3">
            <div class="grid grid-cols-2 text-sm">
              <div class="flex flex-col gap-4">
                <p class="text-lg text-gray-600">Marcas</p>
                <a href="/producto/">HOFF <span class="bg-gray-200 rounded-xl p-1">Nuevo</span></a>
                <a href="/producto/">Timberland</a>
                <a href="/producto/">Tommy Hilfiger</a>
                <a href="/producto/">Panama Jack</a>
                <a href="/producto/">Pier One</a>
                <a href="/producto/">Lacoste</a>
              </div>
              <div class="flex flex-col gap-4">
                <a href="/producto/">Reebok</a>
                <a href="/producto/">Vans</a>
                <a href="/producto/">New Balance</a>
                <a href="/producto/">Jordan</a>
                <a href="/producto/">Adidas</a>
                <a href="/producto/">Skechers</a>
                <a href="/producto/">Nike</a>
              </div>
            </div>
          </div>
          <div class="flex flex-col w-1/4 mb-10 pl-7 bg-amber-500">
            <img class="h-3/4" src="/public/images/img.webp" alt="imagen alternativa">
              <div class="flex gap-2 mt-3 items-center">
                <a class="underline underline-offset-4 hover:decoration-2" href="/producto/">Ver más</a>
                <svg viewBox="0 0 24 24" width="1em" height="1em" fill="currentColor" focusable="false" aria-hidden="true">
                  <path d="M.443 12c0 .414.336.75.75.75h20.869l-7.72 7.72a.75.75 0 0 0 1.06 1.06l7.94-7.94a2.25 2.25 0 0 0 0-3.18l-7.94-7.94a.75.75 0 0 0-1.06 1.06l7.72 7.72H1.192a.75.75 0 0 0-.75.75"></path>
                </svg>
              </div>
              
          </div>
        </div>
    </div>
</section>


<script is:inline>
  // Obtener el botón y el menú móvil
  const hamburgerButton = document.getElementById('hamburger-button');
  const mobileMenu = document.getElementById('mobile-menu');
  const hiddenButton = document.getElementById('hidden-button');

  // Alternar la visibilidad del menú cuando se hace clic en el botón hamburguesa
  hamburgerButton.addEventListener('click', () => {
    if (mobileMenu.hidden) {
      mobileMenu.hidden = false; // Mostrar el menú
    } else {
      mobileMenu.hidden = true; // Ocultar el menú
    }
  });

  //Si se pulsa el boton del menu de la haburguesa para cerrarlo
  hiddenButton.addEventListener('click', () => {
    mobileMenu.hidden = true;
  });
  

  //El siguiente codigo es para que se abra el mega-menu cuando estas hover: calzado
  const trigger = document.getElementById('calzado-trigger');
  const megaMenu = document.getElementById('mega-menu-calzado');

  let isInside = false;

  const showMenu = () => {
    megaMenu.classList.remove('hidden');
    requestAnimationFrame(() => {
        megaMenu.classList.remove('opacity-0', '-translate-y-4', 'pointer-events-none');
    });
  };

  const hideMenu = () => {
    megaMenu.classList.add('opacity-0', '-translate-y-4', 'pointer-events-none');
    setTimeout(() => {
        if (!isInside) megaMenu.classList.add('hidden');
    }, 500); // debe coincidir con duration-500
  };

  trigger.addEventListener('mouseenter', () => {
    isInside = true;
    showMenu();
  });

  trigger.addEventListener('mouseleave', () => {
    isInside = false;
    setTimeout(hideMenu, 500); // Pequeño delay para permitir mover el ratón al menú
  });

  megaMenu.addEventListener('mouseenter', () => {
    isInside = true;
    showMenu();
  });

  megaMenu.addEventListener('mouseleave', () => {
    isInside = false;
    hideMenu();
  });
</script>